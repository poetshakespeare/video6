<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/unnamed.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="TV a la Carta" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#1e40af" />
    <meta name="msapplication-TileColor" content="#1e40af" />
    <meta name="msapplication-navbutton-color" content="#1e40af" />
    <meta name="application-name" content="TV a la Carta" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="MobileOptimized" content="width" />
    <base href="/" />
    <title>TV a la Carta: Películas y series ilimitadas y mucho más</title>
    <style>
      /* Configuraciones universales para todos los dispositivos, SO y navegadores */
      * {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        -o-user-select: none;
        user-select: none;
        -webkit-touch-callout: none;
        -webkit-tap-highlight-color: transparent;
        -moz-tap-highlight-color: transparent;
        -ms-tap-highlight-color: transparent;
        -o-tap-highlight-color: transparent;
      }
      
      /* Permitir selección de texto solo en elementos de entrada */
      input, textarea, [contenteditable="true"] {
        -webkit-user-select: text;
        -moz-user-select: text;
        -ms-user-select: text;
        -o-user-select: text;
        user-select: text;
      }
      
      /* Configuraciones universales para prevenir zoom en todos los navegadores y SO */
      body {
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
        -moz-text-size-adjust: 100%;
        -o-text-size-adjust: 100%;
        text-size-adjust: 100%;
        touch-action: manipulation;
        /* Soporte para dispositivos con notch (iPhone X+, Android con notch) */
        padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
        /* Optimización para dispositivos plegables */
        contain: layout style paint;
      }
      
      /* Prevenir zoom en inputs en todos los dispositivos y navegadores */
      input[type="text"],
      input[type="email"],
      input[type="tel"],
      input[type="password"],
      input[type="number"],
      input[type="search"],
      input[type="url"],
      input[type="date"],
      input[type="time"],
      input[type="datetime-local"],
      input[type="month"],
      input[type="week"],
      textarea,
      select {
        font-size: 16px !important;
        -webkit-appearance: none;
        -moz-appearance: none;
        -ms-appearance: none;
        -o-appearance: none;
        appearance: none;
        /* Optimizaciones adicionales para prevenir zoom */
        -webkit-text-size-adjust: 100%;
        -moz-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
        text-size-adjust: 100%;
        /* Mejorar rendimiento en dispositivos táctiles */
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        /* Prevenir comportamientos no deseados en diferentes navegadores */
        -webkit-tap-highlight-color: transparent;
        -moz-tap-highlight-color: transparent;
        -ms-tap-highlight-color: transparent;
        tap-highlight-color: transparent;
      }
      
      /* Optimizaciones específicas para diferentes navegadores */
      
      /* Chrome y navegadores basados en Chromium */
      @supports (-webkit-appearance: none) {
        input, textarea, select {
          -webkit-appearance: none;
        }
      }
      
      /* Firefox */
      @supports (-moz-appearance: none) {
        input, textarea, select {
          -moz-appearance: none;
        }
      }
      
      /* Safari */
      @supports (-webkit-touch-callout: none) {
        body {
          -webkit-touch-callout: none;
        }
      }
      
      /* Edge */
      @supports (-ms-ime-align: auto) {
        input, textarea {
          -ms-ime-align: auto;
        }
      }
      
      /* Optimizaciones para dispositivos específicos */
      
      /* iPhone y iPad */
      @supports (-webkit-touch-callout: none) and (not (translate: none)) {
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="password"],
        input[type="number"],
        input[type="search"],
        textarea {
          font-size: 16px !important;
          -webkit-text-size-adjust: 100%;
        }
      }
      
      /* Android */
      @media screen and (-webkit-device-pixel-ratio: 1) and (orientation: portrait) {
        input, textarea {
          font-size: 16px !important;
        }
      }
      
      /* Tablets en general */
      @media (min-width: 768px) and (max-width: 1024px) {
        .tablet-optimized {
          padding: 1.5rem;
        }
      }
      
      /* Laptops y desktops */
      @media (min-width: 1024px) {
        .desktop-optimized {
          padding: 2rem;
        }
      }
      
      /* Pantallas ultra anchas */
      @media (min-width: 1920px) {
        .ultrawide-optimized {
          max-width: 1800px;
          margin: 0 auto;
        }
      }
      
      /* Soporte para pantallas plegables */
      @media (spanning: single-fold-vertical) {
        .foldable-layout {
          display: grid;
          grid-template-columns: 1fr 1fr;
        }
      }
      
      /* Soporte para dispositivos con notch */
      @supports (padding: max(0px)) {
        .safe-area {
          padding-left: max(1rem, env(safe-area-inset-left));
          padding-right: max(1rem, env(safe-area-inset-right));
          padding-top: max(1rem, env(safe-area-inset-top));
          padding-bottom: max(1rem, env(safe-area-inset-bottom));
        }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Scripts de compatibilidad universal -->
    <script>
      // Detectar y optimizar para diferentes dispositivos y navegadores
      (function() {
        // Prevenir zoom con gestos en todos los dispositivos
        document.addEventListener('gesturestart', function(e) {
          e.preventDefault();
        });
        
        document.addEventListener('gesturechange', function(e) {
          e.preventDefault();
        });
        
        document.addEventListener('gestureend', function(e) {
          e.preventDefault();
        });
        
        // Prevenir zoom con teclado en todos los navegadores
        document.addEventListener('keydown', function(e) {
          if ((e.ctrlKey || e.metaKey) && (e.key === '+' || e.key === '-' || e.key === '0')) {
            e.preventDefault();
          }
        });
        
        // Prevenir zoom con rueda del mouse en todos los navegadores
        document.addEventListener('wheel', function(e) {
          if (e.ctrlKey || e.metaKey) {
            e.preventDefault();
          }
        }, { passive: false });
        
        // Optimizaciones específicas para diferentes navegadores
        const userAgent = navigator.userAgent.toLowerCase();
        
        // Optimizaciones para Safari (iOS y macOS)
        if (userAgent.includes('safari') && !userAgent.includes('chrome')) {
          document.body.style.webkitTextSizeAdjust = '100%';
          document.body.style.webkitTouchCallout = 'none';
        }
        
        // Optimizaciones para Chrome en Android
        if (userAgent.includes('chrome') && userAgent.includes('android')) {
          document.body.style.touchAction = 'manipulation';
        }
        
        // Optimizaciones para Firefox
        if (userAgent.includes('firefox')) {
          document.body.style.mozTextSizeAdjust = '100%';
          document.body.style.mozUserSelect = 'none';
        }
        
        // Optimizaciones para Edge
        if (userAgent.includes('edg')) {
          document.body.style.msTextSizeAdjust = '100%';
          document.body.style.msUserSelect = 'none';
        }
        
        // Detectar y optimizar para dispositivos plegables
        if ('screen' in window && 'orientation' in window.screen) {
          const handleOrientationChange = () => {
            // Reajustar layout para dispositivos plegables
            setTimeout(() => {
              window.dispatchEvent(new Event('resize'));
            }, 100);
          };
          
          window.screen.orientation.addEventListener('change', handleOrientationChange);
        }
        
        // Optimizar para dispositivos con notch
        if (CSS.supports('padding', 'env(safe-area-inset-top)')) {
          document.documentElement.style.setProperty('--safe-area-inset-top', 'env(safe-area-inset-top)');
          document.documentElement.style.setProperty('--safe-area-inset-right', 'env(safe-area-inset-right)');
          document.documentElement.style.setProperty('--safe-area-inset-bottom', 'env(safe-area-inset-bottom)');
          document.documentElement.style.setProperty('--safe-area-inset-left', 'env(safe-area-inset-left)');
        }
      })();
    </script>
  </body>
</html>
